# 字符串哈希-----快速比较查找字符串

比kmp快

##### 将字符串看成P进制数，P的经验值是131或13331，取这两个值的冲突概率低 Q=2^64

##### 取模的数用2^64，这样直接用unsigned long long存储，溢出的结果就是取模的结果***

##### 不考虑冲突

#### 哈希值不能为0

### 前缀哈希：预处理所有前缀求哈希值------------来得到所有子串哈希值

```C++

//字符串哈希模板


##### typedef unsigned long long ull;
ull h[N], p[N]; // h[k]存储字符串前k个字母的哈希值, p[k]存储 P^k mod 2^64
const int P=13331;
初始化
p[0]=1;
for(int i=1;i<=n;i++)
{
    h[i]=h[i-1]*P+str[i];
    p[i]=p[i-1]*P;
}

// 计算子串str[l~r]的哈希值,l和r范围为1~n***
ull get(int l, int r)//画图理解  进制运算 得到子串哈希值
{
    return h[r]-h[l-1]*p[r-l+1];
}
```

